<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1000, user-scalable=yes, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/style.css">
    <title>키패드</title>
</head>
<body>
    <div class="chart_app">
        <div class="box">
            <div class="left">
                <canvas id="myChart"></canvas>
                <div class="toggle_btn_container">
                    <div class="toggle_btn_box">
                        <input class="toggle_input " id="toggle_btn" type="checkbox" />
                        <label class="toggle_label" for="toggle_btn">
                            <span class="txt1">자동</span>
                            <span class="txt2">수동</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="right">
                <div class="logo_box">
                    <a href="/"><img src="./images/logo.png" alt=""></a>
                </div>
                <div class="input_content">
                    <div class="title_box">
                        <span class="icon"><i class="fas fa-bolt fa-lg"></i></span>
                        <span class="txt">현재 목표 전력</span>
                    </div>
                    <div class="input_box">
                        <input type="text">
                        <span>kW</span>
                    </div>
                </div>
                <div class="input_content">
                    <div class="title_box">
                        <span class="icon"><i class="fas fa-plug fa-lg"></i></span>
                        <span class="txt">설정 목표 전력</span>
                    </div>
                    <div class="input_box">
                        <input type="text" id="setting" value="자동">
                        <span>kW</span>
                    </div>
                </div>
                <div class="btn_box">
                    <button>설정</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/0.5.7/chartjs-plugin-annotation.js"></script>
    <script>
        var ctx = document.getElementById('myChart').getContext('2d');
        var chart = new Chart(ctx, {
            // The type of chart we want to create
            type: 'line',

            // The data for our dataset
            data: {
                labels: ['0시' , '2시' , '4시' , '6시' , '8시' , '10시' , '12시'],
                datasets: [{
                    label: 'ECC',
                    // backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(234, 195, 100)',
                    // backgroundColor : 'rgba(39,39,39)',
                    pointRadius: 0,  
                    data: [0, 10, 5 , 3 , 5, 20 , 14]
                }]
            },
            

            // Configuration options go here
            options: {
                scales : {
                    xAxes: [{
                        gridLines: {
                            // display: false,
                            // color: "black"
                        },
                        scaleLabel: {
                            display: true,
                            labelString: "시간",
                            fontColor: "rgb(234, 195, 100)"
                        }
                    }],
                    yAxes: [{
                        id: 'y-axis-1',
                        gridLines: {
                            // color: "black",
                            // borderDash: [2, 5],
                        },
                        scaleLabel: {
                            display: true,
                            labelString: "전력량",
                            fontColor: "rgb(234, 195, 100)"
                        }
                    }]
                },
                annotation: {
                    annotations: [{
                        type: 'line',
                        mode: 'horizontal',
                        scaleID: 'y-axis-1',
                        value: 10,
                        borderColor: 'tomato',
                        borderWidth: 2,
                        label : {
                            content : '목표전력',
                            enabled : true
                        }
                    }],
                    drawTime: "afterDraw" // (default)
                }
            }
        }); 

        var toggleBtn = document.querySelector('#toggle_btn');
        var setting = document.querySelector('#setting');
        // toggleBtn.checked = true;
        toggleBtn.addEventListener('change' , function(){
            console.log(toggleBtn.checked)
            if(toggleBtn.checked) {
                setting.value = null;
                setting.style.pointerEvents = 'auto';
            } else {
                setting.value = '자동';
                setting.style.pointerEvents = 'none';
            }
        })
    </script>
</body>
</html>